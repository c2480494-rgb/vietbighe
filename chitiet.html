<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Chi tiết sản phẩm - Cửa hàng của Chương</title>
  <link rel="stylesheet" href="style.css">
  <script defer src="script.js"></script>
</head>
<body>

  <header>
    <div class="logo">Cửa hàng của Chương</div>
    <nav>
      <a href="index.html">Trang chủ</a>
      <a href="sanpham.html">Sản phẩm</a>
      <a href="giohang.html">Giỏ hàng</a>
      <a href="dangnhap.html">Đăng nhập</a>
    </nav>
  </header>

  <div class="container fade-up" style="min-height:2500px;">
    <h2>Chi tiết sản phẩm</h2>
    <div id="productDetail" class="product-detail"></div>

    <h3 style="margin-top:40px;">Sản phẩm liên quan</h3>
    <div class="related-products" id="relatedProducts"></div>
  </div>

  <footer>
    <p>&copy; 2025 Cửa hàng của Chương. Mọi quyền được bảo lưu.</p>
  </footer>

  <script>
    // Lấy thông tin sản phẩm được click từ localStorage
    const sp = JSON.parse(localStorage.getItem("chiTietSP"));

    const container = document.getElementById("productDetail");
    if (sp) {
      container.innerHTML = `
        <div class="detail-left">
          <img src="${sp.img}" alt="${sp.name}">
        </div>
        <div class="detail-right">
          <h3>${sp.name}</h3>
          <p class="price">${sp.price.toLocaleString()}₫</p>
          <p class="desc">${sp.desc}</p>
          <h4>Thông số kỹ thuật</h4>
          <ul>
            ${sp.specs.map(th => `<li>${th}</li>`).join("")}
          </ul>
          <button class="btn" onclick="themVaoGio('${sp.name}', ${sp.price})">Thêm vào giỏ</button>
        </div>
      `;
    } else {
      container.innerHTML = "<p>Không tìm thấy thông tin sản phẩm.</p>";
    }

    // Sản phẩm liên quan (giả lập)
    const related = [
      {img:"sp2.jpg", name:"Laptop Acer Nitro 5", price:18990000},
      {img:"sp3.jpg", name:"Laptop HP Victus", price:16490000},
      {img:"sp4.jpg", name:"Laptop Lenovo Legion 5", price:22990000}
    ];
    const relDiv = document.getElementById("relatedProducts");
    relDiv.innerHTML = related.map(p => `
      <div class="product">
        <img src="${p.img}">
        <h4>${p.name}</h4>
        <p>${p.price.toLocaleString()}₫</p>
        <button onclick="xemChiTiet('${p.name}', '${p.img}', ${p.price})">Xem chi tiết</button>
      </div>
    `).join("");
  </script>

</body>
</html>
